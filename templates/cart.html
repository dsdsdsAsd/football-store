{% extends "base.html" %}

{% block title %}Ваша корзина{% endblock %}

{% block content %}
    <h1 class="mb-4 text-white">Ваша корзина</h1>

    {% if cart_items %}
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th scope="col">Товар</th>
                    <th scope="col">Цена</th>
                    <th scope="col">Количество</th>
                    <th scope="col">Сумма</th>
                    <th scope="col">Действия</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart_items %}
                <tr>
                    <td>{{ item.name }}</td>
                    <td>${{ "%.2f" | format(item.price) }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>${{ "%.2f" | format(item.price * item.quantity) }}</td>
                    <td>
                        <a href="/remove_from_cart/{{ item.id }}" class="btn btn-danger btn-sm">Удалить</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <h3 class="mt-4 text-white">Итого: ${{ "%.2f" | format(total_price) }}</h3>
        <a href="/clear_cart" class="btn btn-warning mt-3">Очистить корзину</a>
        <a href="#" class="btn btn-success mt-3 ms-2">Оформить заказ</a>
    {% else %}
        <p class="text-white">Ваша корзина пуста.</p>
        <a href="/" class="btn btn-primary">Начать покупки</a>
    {% endif %}
{% endblock %}